@using BadScript2.ConsoleAbstraction
@using BadScript2.Web.Frontend.Utils
<Xterm Id="BS2-CONSOLE" @ref="_terminal" Options="@_options" OnFirstRender="@OnFirstRender"/>


@code {
    private Xterm _terminal;
    private XTermConsole? _consoleWrapper;


    public IBadConsole GetConsoleWrapper()
    {
        return _consoleWrapper ??= new XTermConsole(_options, _terminal);
    }

    private void OnFirstRender()
    {
        _terminal.Resize(239, 24);
    }


    private TerminalOptions _options = new TerminalOptions
    {
        CursorBlink = true,
        CursorStyle = CursorStyle.Block,
        CursorInactiveStyle = CursorInactiveStyle.Outline,
        Theme =
        {
            Background = "#000000",
        },
    };
}